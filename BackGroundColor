using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class BackGroundColor : MonoBehaviour
{
    /**
     * 배경색을 시간 마다 바꿔줌
     **/

    public Color[] colors; //  바꿀 색상들의 리스트
    public float changeSpeed; // 색이 바뀌는 속도

    private Camera cam;
    private int colorIndex = 0;
    private float lerpTime = 0f;

    void Start()
    {
        cam = GetComponent<Camera>();
        if(colors.Length < 2)
        {
            Debug.LogWarning("색을 2개 이상 설정");
        }
    }

    void Update()
    {
        //배경색이 부드럽게 전환되도록
        cam.backgroundColor = Color.Lerp(cam.backgroundColor, colors[colorIndex], changeSpeed * Time.deltaTime);

        //일정 시간마다 목표 색상을 변경
        lerpTime += Time.deltaTime;
        if(lerpTime > 3f) //3초마다 다음 색상으로 변경
        {
            lerpTime = 0f;
            colorIndex = (colorIndex + 1) % colors.Length;
        }
    }
}
